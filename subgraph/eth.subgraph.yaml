specVersion: 0.0.5
description: Offers on Swapcat only RealTokens ETH
repository: https://github.com/realtoken-thegraph/swapcat-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - name: TokenRegistry
    kind: ethereum/contract
    network: mainnet
    source:
      abi: TokenRegistry
      address: "0x7f751820be4b1e44464268c425af6095995e045a"
      startBlock: 75563
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/registry.ts
      entities:
        - Token
      abis:
        - name: TokenRegistry
          file: ./abis/TokenRegistry.json
      eventHandlers:
        - event: "Unknown(indexed bytes,indexed bytes)"
          topic0: "0xa9e319c3b10db96c5cee4bc3ebffa9c5581f222f14a4deb0df7ec2088ccd0974"
          handler: initRegistry
  - name: Create2Deployer
    kind: ethereum/contract
    network: mainnet
    source:
      abi: Create2Deployer
      address: "0x13385924683d2a2D0ff5D54e3524EbE2D1dE79C3"
      startBlock: 16347689
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/deployToken.ts
      entities:
        - Token
      abis:
        - name: Create2Deployer
          file: ./abis/Create2Deployer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: "DeployedToken(address,bytes32,bytes32,string,string)"
          topic0: "0x7735ba0ab1865272a5022dd848b500004a104b319e3d70ab04244851218c0039"
          handler: handleCreatedToken
  - kind: ethereum/contract
    name: Swapcat
    network: mainnet
    source:
      address: '0xB18713Ac02Fc2090c0447e539524a5c76f327a3b'
      abi: Swapcat
      startBlock: 10817747
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mappings/swapcat.ts
      entities:
        - Account
        - OfferPrice
        - Purchase
        - Offer
        - Token
      abis:
        - name: Swapcat
          file: ./abis/Swapcat.json
        - name: ERC20
          file: ./abis/ERC20.json
      callHandlers:
        - function: makeoffer(address,address,uint256,uint24)
          handler: handleMakeoffer
        - function: buy(uint24,uint256,uint256)
          handler: handleBuy
        - function: deleteoffer(uint24)
          handler: handleDeleteoffer
